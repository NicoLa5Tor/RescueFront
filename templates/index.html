{% extends 'base.html' %}

{% block extra_css %}
<script src="https://cdn.tailwindcss.com"></script>
<link href="{{ url_for('static', filename='css/gsap_css/clamp.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='css/gsap_css/hero.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- Clamp/Rescue Section -->

<div id="gsap-smoother-wrapper">
    <div id="gsap-smoother-content">
      
        <div class="rescue-section">
          {% include 'GSAP_Templates/clamp.html' %}
        </div>
  
        <section id="hero">
          {% include 'GSAP_Templates/hero.html' %}
         </section>
  
      <!-- Aquí puedes agregar más módulos o secciones -->
      
    </div>
</div>
  
{% endblock %}

{% block extra_js %}
<!-- Módulos específicos del index -->
<script type="module" src="{{ url_for('static', filename='js/gsap_js/clamp.js') }}"></script>
<script type="module" src="{{ url_for('static', filename='js/gsap_js/hero.js') }}"></script>
<!-- <script src="{{ url_for('static', filename='js/gsap_js/timeline-module.js') }}"></script>
<script src="{{ url_for('static', filename='js/gsap_js/emergency-module.js') }}"></script>
<script src="{{ url_for('static', filename='js/gsap_js/components-module.js') }}"></script> -->

<!-- Inicializar módulos del index -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // Navegación suave
    window.addEventListener('gsap:initialized', function() {
        console.log('Módulos del index inicializados');
        
        // Smooth scroll para anchors
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    GSAPMain.scrollTo(target, { 
                        offsetY: 50,
                        duration: 1.2 
                    });
                }
            });
        });
        
        // Refresh al cambiar de tamaño
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                GSAPMain.refresh();
            }, 250);
        });
    });
});
</script>
{% endblock %}