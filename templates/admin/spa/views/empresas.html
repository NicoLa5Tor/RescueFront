<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="ios-header-container mb-8">
    <div class="ios-header-backdrop">
      <div class="ios-header-content">
        <div class="ios-header-text">
          <div class="ios-header-icon">
            <i class="fas fa-building"></i>
          </div>
          <div>
            <h1 class="ios-header-title text-3xl md:text-4xl font-bold">Gestion de Empresas</h1>
            <p class="ios-header-subtitle text-base md:text-lg">
              Administra empresas con tecnologia de vanguardia
              {% if request.args.get('tipo_empresa_nombre') %}
                <span class="inline-block ml-2 px-2 py-1 bg-blue-500 text-white text-xs font-medium rounded-full">
                  Filtrando: {{ request.args.get('tipo_empresa_nombre') }}
                </span>
              {% endif %}
              <span class="inline-block ml-2 px-2 py-1 bg-green-500 text-white text-xs font-medium rounded-full" id="empresasCountBadge">
                Cargando...
              </span>
            </p>
          </div>
        </div>
        <div class="ios-header-actions">
          <button class="ios-action-btn ios-action-btn-secondary" onclick="exportEmpresas()">
            <i class="fas fa-download"></i>
            <span class="text-sm font-medium">Exportar</span>
          </button>
          <button class="ios-action-btn ios-action-btn-primary" id="createEmpresaBtn" onclick="openCreateEmpresaModal()">
            <i class="fas fa-plus"></i>
            <span class="text-sm font-medium">Nueva Empresa</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="ios-stats-grid" id="empresasStatsGrid">
    <div class="ios-stat-card" data-stat="total">
      <div class="ios-stat-icon ios-stat-icon-blue">
        <i class="fas fa-building"></i>
      </div>
      <div class="ios-stat-content">
        <div class="ios-stat-label text-sm font-medium text-gray-600 dark:text-gray-400">Total Empresas</div>
        <div class="ios-stat-value text-2xl md:text-3xl font-bold text-gray-900 dark:text-white" id="empresasTotalCount">0</div>
        <div class="ios-stat-trend text-xs text-gray-500 dark:text-gray-500">Empresas registradas</div>
      </div>
      <div class="ios-stat-shimmer"></div>
    </div>
    
    <div class="ios-stat-card" data-stat="active">
      <div class="ios-stat-icon ios-stat-icon-green">
        <i class="fas fa-check-circle"></i>
      </div>
      <div class="ios-stat-content">
        <div class="ios-stat-label text-sm font-medium text-gray-600 dark:text-gray-400">Activas</div>
        <div class="ios-stat-value text-2xl md:text-3xl font-bold text-gray-900 dark:text-white" id="empresasActiveCount">0</div>
        <div class="ios-stat-trend text-xs text-gray-500 dark:text-gray-500">Funcionando correctamente</div>
      </div>
      <div class="ios-stat-shimmer"></div>
    </div>
    
    <div class="ios-stat-card" data-stat="locations">
      <div class="ios-stat-icon ios-stat-icon-purple">
        <i class="fas fa-map-marker-alt"></i>
      </div>
      <div class="ios-stat-content">
        <div class="ios-stat-label text-sm font-medium text-gray-600 dark:text-gray-400">Ubicaciones</div>
        <div class="ios-stat-value text-2xl md:text-3xl font-bold text-gray-900 dark:text-white" id="empresasLocationsCount">0</div>
        <div class="ios-stat-trend text-xs text-gray-500 dark:text-gray-500">Ciudades diferentes</div>
      </div>
      <div class="ios-stat-shimmer"></div>
    </div>
    
    <div class="ios-stat-card" data-stat="recent">
      <div class="ios-stat-icon ios-stat-icon-orange">
        <i class="fas fa-calendar-plus"></i>
      </div>
      <div class="ios-stat-content">
        <div class="ios-stat-label text-sm font-medium text-gray-600 dark:text-gray-400">Este Mes</div>
        <div class="ios-stat-value text-2xl md:text-3xl font-bold text-gray-900 dark:text-white" id="empresasRecentCount">0</div>
        <div class="ios-stat-trend text-xs text-gray-500 dark:text-gray-500">Nuevas empresas</div>
      </div>
      <div class="ios-stat-shimmer"></div>
    </div>
  </div>

  <div class="ios-filters-container ios-blur-bg mb-8">
    <div class="ios-filters-grid">
      <div class="ios-filter-item">
        <label class="ios-filter-label">Buscar</label>
        <input type="text" id="searchInput" placeholder="Buscar empresas..." class="ios-filter-input">
      </div>
      <div class="ios-filter-item">
        <label class="ios-filter-label">Ubicacion</label>
        <select id="locationFilter" class="ios-filter-input">
          <option value="">Todas las ubicaciones</option>
        </select>
      </div>
      <div class="ios-filter-item">
        <label class="ios-filter-label">Estado</label>
        <select id="statusFilter" class="ios-filter-input">
          <option value="">Todos los estados</option>
          <option value="active">Activa</option>
          <option value="inactive">Inactiva</option>
        </select>
      </div>
      <div class="ios-filter-item">
        <label class="ios-filter-label">Mostrar</label>
        <select id="includeInactiveFilter" class="ios-filter-input">
          <option value="active">Solo Activas</option>
          <option value="all">Todas (Activas + Inactivas)</option>
        </select>
      </div>
      <div class="ios-filter-item flex items-end">
        <button class="ios-action-btn w-full" onclick="clearEmpresasFilters()">
          <i class="fas fa-filter-circle-xmark"></i>
          Limpiar
        </button>
      </div>
    </div>
  </div>

  <div class="ios-empresas-grid" id="empresasGrid">
    <div class="text-center py-8 col-span-full">
      <i class="fas fa-spinner fa-spin text-3xl text-gray-400 mb-4"></i>
      <p class="text-gray-500">Cargando empresas...</p>
    </div>
  </div>
</div>
