{% extends "admin/dashboard.html" %}

{% block title %}Tipos de Alertas - Rescue{% endblock %}

{% block extra_css %}
{{ super() }}
<link href="{{ url_for('static', filename='css/hardware/hardware-main.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='css/alerts/alert-types.css') }}" rel="stylesheet">
{% endblock %}

{% block main_content %}
{% set stats = alert_types_data.alert_types_stats if alert_types_data is defined and alert_types_data.alert_types_stats is defined else {} %}
{% set alert_types = alert_types_data.alert_types if alert_types_data is defined and alert_types_data.alert_types is defined else [] %}
{% set pagination = alert_types_data.pagination if alert_types_data is defined and alert_types_data.pagination is defined else {} %}
{% set status_value = selected_status | default(alert_types_data.filter_status | default('active')) %}

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="ios-header-container mb-8">
    <div class="ios-header-backdrop">
      <div class="ios-header-content">
        <div class="ios-header-text">
          <div class="ios-header-icon">
            <i class="fas fa-bell"></i>
          </div>
          <div>
            <h1 class="ios-header-title">Catálogo de Tipos de Alertas</h1>
            <p class="ios-header-subtitle">Configura prioridades, acciones y cobertura para cada tipo</p>
          </div>
        </div>
        <div class="ios-header-actions">
          <button class="ios-action-btn ios-action-btn-primary" type="button" onclick="openCreateAlertTypeModal()">
            <i class="fas fa-plus"></i>
            <span>Nuevo Tipo</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="ios-stats-grid alert-types-stats-grid">
    <div class="ios-stat-card" data-stat="total">
      <div class="ios-stat-icon ios-stat-icon-blue">
        <i class="fas fa-list"></i>
      </div>
      <div class="ios-stat-content">
        <div class="ios-stat-label">Tipos Registrados</div>
        <div class="ios-stat-value">{{ stats.total_types | default(0) }}</div>
        <div class="ios-stat-trend">Catálogo global</div>
      </div>
      <div class="ios-stat-shimmer"></div>
    </div>

    <div class="ios-stat-card" data-stat="active">
      <div class="ios-stat-icon ios-stat-icon-green">
        <i class="fas fa-check-circle"></i>
      </div>
      <div class="ios-stat-content">
        <div class="ios-stat-label">Activos</div>
        <div class="ios-stat-value">{{ stats.active_types | default(0) }}</div>
        <div class="ios-stat-trend">Operativos</div>
      </div>
      <div class="ios-stat-shimmer"></div>
    </div>

    <div class="ios-stat-card" data-stat="critical">
      <div class="ios-stat-icon ios-stat-icon-red">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <div class="ios-stat-content">
        <div class="ios-stat-label">Prioridad Máxima</div>
        <div class="ios-stat-value">{{ stats.critical_types | default(0) }}</div>
        <div class="ios-stat-trend">Alto impacto</div>
      </div>
      <div class="ios-stat-shimmer"></div>
    </div>

  </div>

  <div class="ios-filters-container ios-blur-bg mb-8" id="alertTypesFilters">
    <div class="ios-filters-grid">
      <div class="ios-filter-item">
        <label class="ios-filter-label" for="alertTypesStatusFilter">Estado</label>
        <select id="alertTypesStatusFilter" class="ios-filter-input">
          <option value="active" {{ 'selected' if status_value == 'active' else '' }}>Mostrar activos</option>
          <option value="inactive" {{ 'selected' if status_value == 'inactive' else '' }}>Mostrar inactivos</option>
          <option value="all" {{ 'selected' if status_value == 'all' else '' }}>Mostrar todos</option>
        </select>
      </div>
    </div>
  </div>

  <section class="ios-hardware-grid mt-10" aria-label="Listado de tipos de alertas">
    {% for alert_type in alert_types %}
    {% set color_value = alert_type.color | default('') %}
    {% set color_is_hex = color_value and color_value.startswith('#') and (color_value|length == 7 or color_value|length == 4) %}
    {% set color_css = color_value if color_is_hex else '#1d4ed8' %}
    <article
      class="ios-hardware-card alert-type-card force-visible{{ ' alert-type-card--global' if not alert_type.company_id }}"
      data-status="{{ 'active' if alert_type.active | default(True) else 'inactive' }}"
      data-severity="{{ alert_type.severity | default('desconocida') | lower }}"
      style="--alert-type-color: {{ color_css }};"
    >
      <header class="alert-type-card__header">
        <div class="ios-card-icon">
          <i class="{{ alert_type.icon | default('fas fa-bell') }}"></i>
        </div>
        <div class="alert-type-card__badges">
          <span class="ios-status-badge alert-severity-badge alert-severity-{{ alert_type.severity | default('desconocida') | lower | replace(' ', '-') }}">
            {{ alert_type.severity | default('Sin prioridad') }}
          </span>
          <span class="ios-status-badge alert-status-badge {{ 'alert-status-active' if alert_type.active | default(True) else 'alert-status-inactive' }}">
            {{ 'Activa' if alert_type.active | default(True) else 'Inactiva' }}
          </span>
          {% if not alert_type.company_id %}
          <span class="ios-status-badge alert-scope-badge">Global</span>
          {% endif %}
        </div>
      </header>

      <h2 class="ios-card-title">{{ alert_type.name | default('Tipo sin nombre') }}</h2>
      <p class="ios-card-subtitle">{{ alert_type.description | default('Sin descripción disponible para este tipo de alerta.') }}</p>

      <dl class="ios-card-info alert-type-card__info">
        <div class="ios-info-item">
          <dt class="ios-info-label"><i class="fas fa-clock"></i> SLA objetivo</dt>
          <dd class="ios-info-value">{{ alert_type.sla_minutes | default(0) }} min</dd>
        </div>
        <div class="ios-info-item">
          <dt class="ios-info-label"><i class="fas fa-bullhorn"></i> Intensidad</dt>
          <dd class="ios-info-value">{{ alert_type.severity | default('Sin prioridad') | upper }}</dd>
        </div>
        <div class="ios-info-item">
          <dt class="ios-info-label"><i class="fas fa-palette"></i> Color</dt>
          <dd class="ios-info-value">
            {% if color_is_hex %}
            <span class="alert-type-color" style="background: {{ color_value }};"></span>
            {% endif %}
            {{ color_value or 'Sin color definido' }}
          </dd>
        </div>
        <div class="ios-info-item">
          <dt class="ios-info-label"><i class="fas fa-redo"></i> Última revisión</dt>
          <dd class="ios-info-value">{{ alert_type.updated_at | default('Sin registro') }}</dd>
        </div>
        <div class="ios-info-item">
          <dt class="ios-info-label"><i class="fas fa-globe"></i> Ámbito</dt>
          {% set company_display = alert_type.company_name | default('') or alert_type.company_id | default('') %}
          <dd class="ios-info-value">{{ company_display if company_display else 'Global' }}</dd>
        </div>
      </dl>

      {% if alert_type.image %}
      <figure class="alert-type-card__media">
        <img src="{{ alert_type.image }}" alt="Imagen de {{ alert_type.name }}" loading="lazy">
        <figcaption>Imagen oficial de referencia</figcaption>
      </figure>
      {% endif %}

      {% if alert_type.recommendations | default([]) %}
      <div class="alert-type-card__triggers">
        <p class="alert-type-card__section-title">
          <i class="fas fa-clipboard-list"></i>
          Recomendaciones iniciales
        </p>
        <ul class="alert-type-card__list">
          {% for recommendation in alert_type.recommendations[:4] %}
          <li>{{ recommendation }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}

      {% if alert_type.equipment | default([]) %}
      <div class="alert-type-card__triggers">
        <p class="alert-type-card__section-title">
          <i class="fas fa-toolbox"></i>
          Implementos necesarios
        </p>
        <ul class="alert-type-card__list">
          {% for item in alert_type.equipment[:4] %}
          <li>{{ item }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}

      {% if alert_type.sound %}
      <div class="alert-type-card__sound">
        <div class="alert-type-card__sound-icon">
          <i class="fas fa-volume-up"></i>
        </div>
        <div class="alert-type-card__sound-player">
          <p class="alert-type-card__section-title">Sonido asignado</p>
          <audio controls preload="metadata" src="{{ alert_type.sound }}" class="alert-type-card__audio"></audio>
        </div>
      </div>
      {% endif %}

      {% if alert_type.id %}
      <div class="ios-card-actions alert-type-card__actions">
        <button
          type="button"
          class="ios-card-btn"
          onclick="viewAlertType('{{ alert_type.id }}')"
          title="Ver detalles"
        >
          <i class="fas fa-eye"></i>
        </button>

        <button
          type="button"
          class="ios-card-btn"
          data-alert-type-edit="true"
          data-alert-type-id="{{ alert_type.id }}"
          data-alert-type-name="{{ alert_type.name | default('Tipo sin nombre') }}"
          title="Editar tipo de alerta"
        >
          <i class="fas fa-edit"></i>
        </button>

        {% if alert_type.active %}
        <button
          type="button"
          class="ios-card-btn ios-card-btn-warning"
          data-alert-type-toggle="deactivate"
          data-alert-type-id="{{ alert_type.id }}"
          data-alert-type-name="{{ alert_type.name | default('Tipo sin nombre') }}"
          title="Desactivar tipo de alerta"
        >
          <i class="fas fa-power-off"></i>
        </button>
        {% else %}
        <button
          type="button"
          class="ios-card-btn ios-card-btn-success"
          data-alert-type-toggle="activate"
          data-alert-type-id="{{ alert_type.id }}"
          data-alert-type-name="{{ alert_type.name | default('Tipo sin nombre') }}"
          title="Reactivar tipo de alerta"
        >
          <i class="fas fa-redo"></i>
        </button>
        {% endif %}
      </div>
      {% endif %}
    </article>
    {% else %}
    <div class="alert-types-empty">
      <div class="alert-types-empty__icon">
        <i class="fas fa-bell-slash"></i>
      </div>
      <h3>No hay tipos configurados</h3>
      <p>Agrega un tipo de alerta para definir prioridades, equipos y canales de notificación.</p>
    </div>
    {% endfor %}
  </section>

  {% if pagination.pages | default(1) > 1 %}
  {% set current_page = pagination.page | default(1) %}
  {% set total_pages = pagination.pages | default(1) %}
  {% set limit_value = pagination.limit | default(4) %}
  <nav class="alert-types-pagination" aria-label="Paginación de tipos de alertas">
    <a class="pagination-btn {{ 'pagination-btn--disabled' if current_page <= 1 }}" href="{% if current_page > 1 %}{{ url_for('admin_alert_types', page=current_page-1, limit=limit_value, status=status_value) }}{% else %}#{% endif %}" aria-disabled="{{ 'true' if current_page <= 1 else 'false' }}">
      <i class="fas fa-chevron-left"></i>
      <span>Anterior</span>
    </a>

    <div class="pagination-info">
      Página {{ current_page }} de {{ total_pages }} · {{ stats.total_types | default(pagination.total | default(0)) }} registros
    </div>

    <a class="pagination-btn {{ 'pagination-btn--disabled' if current_page >= total_pages }}" href="{% if current_page < total_pages %}{{ url_for('admin_alert_types', page=current_page+1, limit=limit_value, status=status_value) }}{% else %}#{% endif %}" aria-disabled="{{ 'true' if current_page >= total_pages else 'false' }}">
      <span>Siguiente</span>
      <i class="fas fa-chevron-right"></i>
    </a>
  </nav>
  {% endif %}
</div>

<!-- Modal: Desactivar Tipo de Alerta -->
<div id="toggleAlertTypeModal" class="ios-modal-backdrop toggle-modal hidden" role="dialog" aria-modal="true" aria-labelledby="toggleAlertTypeTitle">
  <div class="ios-blur-modal-container max-w-md" id="toggleAlertTypeContainer">
    <div class="ios-blur-header text-center">
      <div class="toggle-modal-icon deactivate mx-auto mb-4" id="toggleAlertTypeIcon">
        <i class="fas fa-power-off text-4xl" id="toggleAlertTypeIconFa"></i>
      </div>
      <h2 id="toggleAlertTypeTitle" class="text-2xl font-semibold text-white">Desactivar tipo de alerta</h2>
    </div>

    <div class="ios-blur-body space-y-6">
      <p class="text-white/80 text-lg text-center" id="toggleAlertTypeMessage">¿Estás seguro de que quieres desactivar este tipo de alerta?</p>

      <div id="alertTypeDeactivateFeedback" class="hidden px-4 py-3 rounded-lg border border-red-400 bg-red-500/20 text-red-100 text-sm"></div>
    </div>

    <div class="ios-blur-footer">
      <button type="button" class="ios-blur-btn ios-blur-btn-secondary" onclick="closeDeactivateAlertTypeModal()">
        <i class="fas fa-times mr-2"></i>
        Cancelar
      </button>
      <button type="button" class="ios-blur-btn ios-blur-btn-primary" id="alertTypeDeactivateConfirmBtn" onclick="confirmToggleAlertType()">
        <i class="fas fa-power-off mr-2" id="alertTypeDeactivateConfirmIcon"></i>
        <span id="alertTypeDeactivateConfirmText">Desactivar</span>
      </button>
    </div>
  </div>
</div>

<!-- Modal: Detalles Tipo de Alerta -->
<div id="viewAlertTypeModal" class="ios-modal-backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="viewAlertTypeTitle">
  <div class="ios-blur-modal-container max-w-3xl">
    <div class="ios-blur-header">
      <div class="flex items-center justify-between w-full">
        <div class="flex items-center space-x-3">
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 via-orange-500 to-yellow-400 flex items-center justify-center shadow-lg">
            <i class="fas fa-bell text-white text-xl"></i>
          </div>
          <div>
            <h2 id="viewAlertTypeTitle" class="text-2xl font-semibold text-white">Detalle del tipo de alerta</h2>
            <p class="text-sm text-white/70" id="viewAlertTypeSubtitle">Consulta la configuración completa</p>
          </div>
        </div>
        <button type="button" class="ios-blur-btn ios-blur-btn-secondary !p-2" onclick="closeViewAlertTypeModal()" aria-label="Cerrar modal">
          <i class="fas fa-times text-lg"></i>
        </button>
      </div>
    </div>

    <div class="ios-blur-body space-y-6" id="viewAlertTypeBody">
      <div class="alert-type-detail-header">
        <div>
          <h3 class="alert-type-detail-title" id="alertDetailName">-</h3>
          <p class="alert-type-detail-description" id="alertDetailDescription">-</p>
        </div>
        <div class="alert-type-detail-meta">
          <span class="ios-status-badge" id="alertDetailSeverity">-</span>
          <span class="alert-type-detail-color" id="alertDetailColorSwatch">-</span>
        </div>
      </div>

      <div class="alert-type-detail-grid">
        <dl>
          <div>
            <dt>Estado</dt>
            <dd id="alertDetailActive">-</dd>
          </div>
          <div>
            <dt>Color configurado</dt>
            <dd id="alertDetailColorValue">-</dd>
          </div>
          <div>
            <dt>Empresa asociada</dt>
            <dd id="alertDetailCompany">Global</dd>
          </div>
          <div>
            <dt>Creación</dt>
            <dd id="alertDetailCreated">-</dd>
          </div>
          <div>
            <dt>Última actualización</dt>
            <dd id="alertDetailUpdated">-</dd>
          </div>
        </dl>

        <div class="alert-type-detail-media" id="alertDetailMediaContainer" hidden>
          <div class="alert-type-detail-media-preview" id="alertDetailImagePreview"></div>
          <div class="alert-type-detail-media-audio" id="alertDetailAudioContainer"></div>
        </div>
      </div>

      <div class="alert-type-detail-lists">
        <div>
          <h4><i class="fas fa-clipboard-list"></i> Recomendaciones</h4>
          <ul id="alertDetailRecommendations" class="alert-type-detail-list"></ul>
        </div>
        <div>
          <h4><i class="fas fa-toolbox"></i> Implementos necesarios</h4>
          <ul id="alertDetailEquipment" class="alert-type-detail-list"></ul>
        </div>
      </div>

      <div id="alertDetailFeedback" class="hidden px-4 py-3 rounded-lg border border-red-400 bg-red-500/20 text-red-100 text-sm"></div>
    </div>

    <div class="ios-blur-footer">
      <button type="button" class="ios-blur-btn ios-blur-btn-secondary" onclick="closeViewAlertTypeModal()">
        <i class="fas fa-times mr-2"></i>
        Cerrar
      </button>
    </div>
  </div>
</div>

<!-- Modal: Crear Tipo de Alerta -->
<div id="createAlertTypeModal" class="ios-modal-backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="createAlertTypeTitle">
  <div class="ios-blur-modal-container max-w-4xl">
    <div class="ios-blur-header">
      <div class="flex items-center justify-between w-full">
        <div class="flex items-center space-x-3">
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 via-orange-500 to-yellow-400 flex items-center justify-center shadow-lg">
            <i class="fas fa-bell text-white text-xl"></i>
          </div>
          <div>
            <h2 id="createAlertTypeTitle" class="text-2xl font-semibold text-white">Nuevo tipo de alerta</h2>
            <p class="text-sm text-white/70" id="createAlertTypeSubtitle">Define los atributos básicos y las recomendaciones iniciales</p>
          </div>
        </div>
        <button type="button" class="ios-blur-btn ios-blur-btn-secondary !p-2" data-modal-close aria-label="Cerrar modal" onclick="closeCreateAlertTypeModal()">
          <i class="fas fa-times text-lg"></i>
        </button>
      </div>
    </div>

    <form id="createAlertTypeForm" class="ios-blur-body space-y-6">
      <div id="alertTypeFormFeedback" class="hidden px-4 py-3 rounded-lg border border-red-400 bg-red-500/20 text-red-100 text-sm"></div>

      <div class="form-grid">
        <div class="form-group">
          <label for="alertTypeName" class="ios-filter-label">Nombre *</label>
          <input type="text" id="alertTypeName" name="nombre" class="ios-filter-input" placeholder="Ej. Evacuación Total" required>
        </div>

        <div class="form-group">
          <label for="alertTypeSeverity" class="ios-filter-label">Nivel de alerta *</label>
          <select id="alertTypeSeverity" name="tipo_alerta" class="ios-filter-input" required>
            <option value="">Selecciona un nivel</option>
            <option value="ROJO">Rojo (Crítica)</option>
            <option value="NARANJA">Naranja (Alta)</option>
            <option value="AMARILLO">Amarillo (Media)</option>
            <option value="VERDE">Verde (Baja)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="alertTypeColor" class="ios-filter-label">Color *</label>
          <input type="text" id="alertTypeColor" name="color_alerta" class="ios-filter-input" placeholder="Ej. Rojo intenso" required>
          <p class="text-xs text-white/60 mt-1">Ingresa el color como texto descriptivo (ej.: "Rojo", "Verde").</p>
        </div>

        <div class="form-group">
          <label class="ios-filter-label" for="alertTypeScopeGlobal">Ámbito</label>
          <div class="flex items-center space-x-3 text-white/80" id="alertTypeScopeWrapper">
            <input type="checkbox" id="alertTypeScopeGlobal" class="h-4 w-4 text-sky-400 border-slate-400 rounded focus:ring-sky-400">
            <label for="alertTypeScopeGlobal" class="text-sm" id="alertTypeScopeLabel">Convertir en alerta global</label>
          </div>
          <p class="text-xs text-white/60 mt-1">Marca esta opción para aplicar la alerta a todas las empresas del ecosistema.</p>
        </div>

        <div class="form-group" id="alertTypeCompanyGroup">
          <label for="alertTypeCompanyInput" class="ios-filter-label">Empresa <span id="alertTypeCompanyLabelSuffix">(opcional)</span></label>
          <div class="ios-combo-box">
            <input type="text" id="alertTypeCompanyInput" class="ios-filter-input" placeholder="Selecciona una empresa" list="alertTypeCompanyList" autocomplete="off">
            <datalist id="alertTypeCompanyList"></datalist>
            <input type="hidden" name="empresa_id" id="alertTypeCompanyId">
          </div>
          <p class="text-xs text-white/50 mt-1" id="alertTypeCompanyHelper">Selecciona una empresa para asociarla o deja el campo vacío para un alcance global.</p>
        </div>
      </div>

      <div class="form-group">
        <label for="alertTypeDescription" class="ios-filter-label">Descripción *</label>
        <textarea id="alertTypeDescription" name="descripcion" class="ios-filter-input" rows="3" placeholder="Describe cuándo se activa esta alerta" required></textarea>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label class="ios-filter-label">Imagen de referencia</label>
          <div class="ios-file-picker">
            <div class="ios-file-picker-row">
              <select id="alertImageFolderSelect" class="ios-filter-input">
                <option value="">Selecciona una carpeta</option>
              </select>
              <select id="alertImageFileSelect" class="ios-filter-input" disabled>
                <option value="">Selecciona un archivo</option>
              </select>
            </div>
            <p class="ios-file-helper">Elige un archivo del gestor de imágenes. Las miniaturas se generan automáticamente.</p>
            <div id="alertImagePreview" class="ios-file-preview ios-file-preview--image">
              <div class="ios-file-preview__placeholder">
                <i class="fas fa-image"></i>
                <span>No se ha seleccionado imagen</span>
              </div>
            </div>
          </div>
          <input type="hidden" name="imagen_base64" id="alertTypeImage">
          <input type="hidden" name="imagen_url" id="alertTypeImageUrl">
          <input type="hidden" name="imagen_nombre" id="alertTypeImageName">
        </div>

        <div class="form-group">
          <label class="ios-filter-label">Sonido asignado</label>
          <div class="ios-file-picker">
            <div class="ios-file-picker-row">
              <select id="alertSoundFolderSelect" class="ios-filter-input">
                <option value="">Selecciona una carpeta</option>
              </select>
              <select id="alertSoundFileSelect" class="ios-filter-input" disabled>
                <option value="">Selecciona un archivo</option>
              </select>
            </div>
            <p class="ios-file-helper">Selecciona archivos de audio en formato MP3, WAV u OGG.</p>
            <div id="alertSoundPreview" class="ios-file-preview ios-file-preview--audio">
              <div class="ios-file-preview__placeholder">
                <i class="fas fa-volume-up"></i>
                <span>No se ha seleccionado sonido</span>
              </div>
            </div>
          </div>
          <input type="hidden" name="sonido_link" id="alertTypeSound">
        </div>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label for="alertRecommendationInput" class="ios-filter-label">Recomendaciones iniciales</label>
          <div class="ios-chip-input">
            <input type="text" id="alertRecommendationInput" class="ios-filter-input" placeholder="Ej. Detener actividades y desalojar">
            <button type="button" class="ios-action-btn ios-action-btn-primary" id="alertRecommendationAddBtn">
              <i class="fas fa-plus"></i>
              <span>Agregar</span>
            </button>
          </div>
          <p class="ios-chip-helper">Presiona Enter o haz clic en "Agregar" para registrar cada recomendación.</p>
          <div id="alertRecommendationsList" class="ios-chip-container"></div>
        </div>

        <div class="form-group">
          <label for="alertEquipmentInput" class="ios-filter-label">Implementos necesarios</label>
          <div class="ios-chip-input">
            <input type="text" id="alertEquipmentInput" class="ios-filter-input" placeholder="Ej. Kit de primeros auxilios">
            <button type="button" class="ios-action-btn ios-action-btn-primary" id="alertEquipmentAddBtn">
              <i class="fas fa-plus"></i>
              <span>Agregar</span>
            </button>
          </div>
          <p class="ios-chip-helper">Registra cada implemento por separado. Puedes dejar la sección vacía.</p>
          <div id="alertEquipmentList" class="ios-chip-container"></div>
        </div>
      </div>

      <div class="ios-blur-footer">
        <button type="button" class="ios-blur-btn ios-blur-btn-secondary" onclick="closeCreateAlertTypeModal()">
          <i class="fas fa-times mr-2"></i>
          Cancelar
        </button>
        <button type="submit" class="ios-blur-btn ios-blur-btn-primary" id="createAlertTypeSubmit">
          <i class="fas fa-save mr-2"></i>
          Guardar tipo de alerta
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}

{% block extra_js %}
{{ super() }}
<script src="{{ url_for('static', filename='js/modal-utils.js') }}"></script>
<script src="{{ url_for('static', filename='js/alerts/alert-types-main.js') }}"></script>
{% endblock %}
