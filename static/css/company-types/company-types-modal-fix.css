/* ===== COMPANY TYPES MODAL FIXES - PREVENT Z-INDEX AND SCROLL ISSUES ===== */

/* Prevent scroll jumping and hide navbar/sidebar when modals are open */
body:has(#companyTypeModal:not(.hidden)),
body:has(#detailsModal:not(.hidden)),
body:has(#toggleCompanyTypeModal:not(.hidden)),
body:has(#clientUpdateModal:not(.hidden)) {
  overflow: hidden !important;
}

/* Hide navbar and sidebar when specific company-types modals are active */
body:has(#companyTypeModal:not(.hidden)) .navbar,
body:has(#companyTypeModal:not(.hidden)) .sidebar,
body:has(#detailsModal:not(.hidden)) .navbar,
body:has(#detailsModal:not(.hidden)) .sidebar,
body:has(#toggleCompanyTypeModal:not(.hidden)) .navbar,
body:has(#toggleCompanyTypeModal:not(.hidden)) .sidebar,
body:has(#clientUpdateModal:not(.hidden)) .navbar,
body:has(#clientUpdateModal:not(.hidden)) .sidebar {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  transform: translateX(-100%) !important;
}

/* Ensure modal containers use proper z-index hierarchy */
#companyTypeModal:not(.hidden),
#detailsModal:not(.hidden),
#toggleCompanyTypeModal:not(.hidden),
#clientUpdateModal:not(.hidden) {
  z-index: var(--z-modal-backdrop, 10000) !important;
}

#companyTypeModal .ios-blur-modal-container,
#detailsModal .ios-blur-modal-container,
#toggleCompanyTypeModal .ios-blur-modal-container,
#clientUpdateModal .ios-blur-modal-container {
  z-index: var(--z-modal, 10001) !important;
  position: relative !important;
  margin: 0 !important;
}
