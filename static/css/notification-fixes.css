/**
 * NOTIFICATION AND POPUP Z-INDEX FIXES
 * 
 * Este archivo corrige los z-index de todas las notificaciones y popups
 * para asegurar que aparezcan siempre por encima del header y otros elementos.
 * 
 * Z-Index hierarchy:
 * - Header/Navbar: 1030 (--z-fixed)
 * - Dropdowns: 1000 (--z-dropdown) 
 * - Popups: 1060 (--z-popover)
 * - Tooltips: 1070 (--z-tooltip)
 * - Toasts/Notifications: 1080 (--z-toast)
 * - Modals: 10000+ (--z-modal-backdrop, --z-modal)
 */

/* ========== NOTIFICACIONES GENERALES ========== */

/* Notificaciones que usan z-50 de Tailwind (valor 50) - muy bajo */
.fixed.top-4.right-4.z-50,
.notification,
.toast,
.popup-notification {
    z-index: 99999 !important; /* Super alto para estar encima de todos los modales */
}

/* Notificaciones específicas de auth-manager */
.auth-notification,
.logout-notification {
    z-index: 99999 !important;
}

/* ========== POPUPS Y DROPDOWNS ========== */

/* Dropdowns de usuario, configuraciones, etc. */
.dropdown,
.dropdown-menu,
.user-dropdown,
.settings-dropdown {
    z-index: 1060 !important; /* --z-popover */
}

/* Popups de confirmación (como cerrar sesión) */
.confirmation-popup,
.confirm-dialog {
    z-index: 1070 !important; /* --z-tooltip */
}

/* ========== ALERTAS Y NOTIFICACIONES DE SISTEMA ========== */

/* Alertas de sistema (success, error, warning, info) */
.alert-notification,
.system-alert,
.enhanced-notification {
    z-index: 99999 !important;
}

/* Notificaciones de hardware */
.hardware-notification {
    z-index: 99999 !important;
}

/* Notificaciones de empresa */
.empresa-notification {
    z-index: 99999 !important;
}

/* Notificaciones de usuarios */
.usuario-notification {
    z-index: 99999 !important;
}

/* ========== ELEMENTOS ESPECÍFICOS DE JAVASCRIPT ========== */

/* Elementos creados dinámicamente por JavaScript que necesitan estar encima */
div[id^="notification-"],
div[class*="notification"],
div[class*="toast"] {
    z-index: 99999 !important;
}

/* Elementos de confirmación */
div[class*="confirm"],
div[class*="dialog"] {
    z-index: 99999 !important;
}

/* ========== MODALES LIGEROS (NO FULLSCREEN) ========== */

/* Modales pequeños que no necesitan el z-index máximo */
.mini-modal,
.popup-modal {
    z-index: 1090 !important;
}

/* ========== TOOLTIPS ========== */

/* Tooltips en general */
.tooltip,
[data-tooltip] {
    z-index: 1070 !important;
}

/* ========== ELEMENTOS CON BACKDROP ========== */

/* Elementos que necesitan backdrop pero no son modales completos */
.overlay-notification {
    z-index: 1080 !important;
}

.backdrop-notification {
    z-index: 1079 !important; /* Justo debajo de la notificación */
}

/* ========== CASOS ESPECIALES ========== */

/* Para elementos que absolutamente DEBEN estar por encima de todo */
.z-max-override {
    z-index: 10002 !important; /* --z-max */
}

/* Para debugging - clase temporal */
.debug-high-z {
    z-index: 99999 !important;
    background: rgba(255, 0, 0, 0.1) !important;
    border: 2px solid red !important;
}

/* ========== RESPONSIVE CONSIDERATIONS ========== */

/* En móviles, asegurar que las notificaciones no interfieran con la navegación */
@media (max-width: 768px) {
    .mobile-notification {
        z-index: 1080 !important;
        top: 4rem !important; /* Debajo del navbar móvil */
    }
}

/* ========== ANIMACIONES Y TRANSICIONES ========== */

/* Asegurar que las animaciones no afecten el z-index */
.notification-enter,
.notification-exit,
.popup-enter,
.popup-exit {
    z-index: 1080 !important;
}

/* ========== COMPATIBILIDAD CON TAILWIND ========== */

/* Override específico para clases de Tailwind que puedan tener z-index bajo */
.z-10 { z-index: 10 !important; }
.z-20 { z-index: 20 !important; }
.z-30 { z-index: 30 !important; }
.z-40 { z-index: 40 !important; }

/* Pero para notificaciones, siempre usar el z-index alto */
.notification.z-50,
.toast.z-50,
.popup.z-50 {
    z-index: 99999 !important;
}

/* ========== CORRECCIONES ESPECÍFICAS PARA ELEMENTOS CON Z-INDEX INLINE ========== */

/* Elementos fixed que usan z-index inline con 1080 */
.fixed.top-4.right-4[style*="z-index: 1080"],
.fixed.top-4.right-4[style*="z-index:1080"],
.alert-notification[style*="z-index"] {
    z-index: 99999 !important;
}

/* Elementos con patrones específicos que son notificaciones */
.fixed.top-4.right-4.transform,
.fixed.top-4.right-4 > div[class*="bg-gradient"],
.fixed.top-4.right-4 > div[class*="bg-red-"],
.fixed.top-4.right-4 > div[class*="bg-green-"],
.fixed.top-4.right-4 > div[class*="bg-blue-"],
.fixed.top-4.right-4 > div[class*="bg-yellow-"] {
    z-index: 99999 !important;
}

/* Elementos de notificación con cualquier z-index inline */
[class*="notification"][style*="z-index"],
[id*="notification"][style*="z-index"],
[class*="alert-notification"][style*="z-index"],
[class*="toast"][style*="z-index"] {
    z-index: 99999 !important;
}

/* Selectores muy específicos para notificaciones creadas por JavaScript */
div.fixed.top-4.right-4.transform.transition-all,
div.alert-notification.fixed.top-4.right-4 {
    z-index: 99999 !important;
}

/* ========== LOGGING PARA DEBUG ========== */

/* Añadir un indicador visual para elementos con z-index corregido (solo en desarrollo) */
/*
.fixed.top-4.right-4::before {
    content: "Z: 1080";
    position: absolute;
    top: -20px;
    right: 0;
    background: rgba(0, 255, 0, 0.8);
    color: black;
    padding: 2px 4px;
    font-size: 10px;
    border-radius: 2px;
    pointer-events: none;
}
*/
